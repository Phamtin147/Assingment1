<Window x:Class="FUMiniHotelSystemWPF.Views.CustomerDashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Customer Dashboard" Height="768" Width="1366"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        Background="{StaticResource BackgroundGradient}">
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Sidebar -->
        <Border Grid.Column="0" Background="{StaticResource SidebarDarkBrush}" CornerRadius="0,20,0,0">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

                <!-- Logo & Title -->
                <StackPanel Grid.Row="0" Margin="20,30,20,40">
                    <Ellipse Width="60" Height="60" Margin="0,0,0,15">
                        <Ellipse.Fill>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#4CAF50" Offset="0"/>
                                <GradientStop Color="#2E7D32" Offset="1"/>
                            </LinearGradientBrush>
                        </Ellipse.Fill>
                    </Ellipse>
                    <TextBlock Text="👤" FontSize="35" HorizontalAlignment="Center" Margin="0,-55,0,15"/>
                    
                    <TextBlock Text="Khách hàng" 
                               FontSize="20" 
                               FontWeight="Bold" 
                               Foreground="{StaticResource TextWhiteBrush}" 
                               HorizontalAlignment="Center"/>
                    
                    <TextBlock x:Name="WelcomeTextBlock"
                               FontSize="12" 
                               Foreground="{StaticResource TextMutedBrush}" 
                               HorizontalAlignment="Center"
                               Margin="0,5,0,0"/>
                </StackPanel>
                
                <!-- Navigation Menu -->
                <StackPanel Grid.Row="1" Margin="10,0">
                    <Button x:Name="ProfileBtn" Style="{StaticResource SidebarButton}" Click="NavigateToProfile" Tag="Selected">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="👤" FontSize="18" Margin="0,0,15,0"/>
                            <TextBlock Text="Thông tin cá nhân" FontSize="14"/>
                        </StackPanel>
                    </Button>
                    
                    <Button x:Name="BookingBtn" Style="{StaticResource SidebarButton}" Click="NavigateToBooking">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🏨" FontSize="18" Margin="0,0,15,0"/>
                            <TextBlock Text="Đặt phòng" FontSize="14"/>
                        </StackPanel>
                    </Button>
                    
                    <Button x:Name="HistoryBtn" Style="{StaticResource SidebarButton}" Click="NavigateToHistory">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📋" FontSize="18" Margin="0,0,15,0"/>
                            <TextBlock Text="Lịch sử đặt phòng" FontSize="14"/>
                        </StackPanel>
                    </Button>
        </StackPanel>

                <!-- Logout Button -->
                <Button Grid.Row="2" Style="{StaticResource ErrorButton}" 
                        Margin="10,10,10,20" Height="45"
                        Click="Logout_Click">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="🚪" FontSize="18" Margin="0,0,10,0"/>
                        <TextBlock Text="Đăng xuất" FontSize="14"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>
        
        <!-- Main Content Area -->
        <Grid Grid.Column="1" Margin="20">
            <!-- Profile View -->
            <Grid x:Name="ProfileView" Visibility="Visible">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="👤 Thông tin cá nhân" 
                                   FontSize="28" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource TextWhiteBrush}"
                                   Margin="0,0,0,30"/>
                        
                        <Border Background="{StaticResource CardBackgroundBrush}" 
                                CornerRadius="15" 
                                Padding="40"
                                MaxWidth="900"
                                HorizontalAlignment="Stretch">
                            <StackPanel>
                                <!-- Họ và tên -->
                                <TextBlock Text="Họ và tên" 
                                           Foreground="{StaticResource TextGrayBrush}" 
                                           FontSize="13"
                                           Margin="0,0,0,8"/>
                                <TextBox x:Name="FullNameTextBox" 
                                         Height="45" 
                                         Style="{StaticResource ModernTextBox}"
                                         Margin="0,0,0,20"/>
                                
                                <!-- Email -->
                                <TextBlock Text="Email" 
                                           Foreground="{StaticResource TextGrayBrush}" 
                                           FontSize="13"
                                           Margin="0,0,0,8"/>
                                <TextBox x:Name="EmailTextBox" 
                                         Height="45" 
                                         Style="{StaticResource ModernTextBox}"
                                         IsReadOnly="True"
                                         Margin="0,0,0,20"/>
                                
                                <!-- Số điện thoại -->
                                <TextBlock Text="Số điện thoại" 
                                           Foreground="{StaticResource TextGrayBrush}" 
                                           FontSize="13"
                                           Margin="0,0,0,8"/>
                                <TextBox x:Name="PhoneTextBox" 
                                         Height="45" 
                                         Style="{StaticResource ModernTextBox}"
                                         Margin="0,0,0,20"/>
                                
                                <!-- Ngày sinh -->
                                <TextBlock Text="Ngày sinh" 
                                           Foreground="{StaticResource TextGrayBrush}" 
                                           FontSize="13"
                                           Margin="0,0,0,8"/>
                                <DatePicker x:Name="BirthdayPicker" 
                                            Height="45"
                                            Margin="0,0,0,20"
                                            Style="{StaticResource ModernDatePicker}"/>
                                
                                <Button Content="💾 Cập nhật thông tin" 
                                        Height="50" 
                                        Style="{StaticResource SuccessButton}"
                                        Margin="0,20,0,0"
                                        Click="UpdateProfile_Click"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
            
            <!-- Booking View -->
            <Grid x:Name="BookingView" Visibility="Collapsed">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="🏨 Đặt phòng khách sạn" 
                                   FontSize="28" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource TextWhiteBrush}"
                                   Margin="0,0,0,10"/>
                        
                        <TextBlock Text="Chọn phòng phù hợp với bạn và đặt ngay!" 
                                   FontSize="14" 
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,30"/>
                        
                        <Border Background="{StaticResource CardBackgroundBrush}" 
                                CornerRadius="15" 
                                Padding="40"
                                MaxWidth="600"
                                HorizontalAlignment="Center">
                            <StackPanel>
                                <TextBlock Text="🎉 Sẵn sàng cho chuyến đi của bạn?" 
                                           FontSize="20" 
                                           FontWeight="Bold"
                                           Foreground="{StaticResource TextWhiteBrush}"
                                           HorizontalAlignment="Center"
                                           Margin="0,0,0,20"/>
                                
                                <TextBlock Text="Chúng tôi có nhiều loại phòng đẹp với giá tốt nhất!" 
                                           FontSize="14" 
                                           Foreground="{StaticResource TextGrayBrush}"
                                           TextAlignment="Center"
                                           TextWrapping="Wrap"
                                           Margin="0,0,0,30"/>
                                
                                <Button Content="🏨 Đặt phòng ngay" 
                                        Height="60" 
                                        Style="{StaticResource ModernButton}"
                                        FontSize="18"
                                        Click="NewBooking_Click"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
            
            <!-- History View -->
            <Grid x:Name="HistoryView" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Text="📋 Lịch sử đặt phòng" 
                           FontSize="28" 
                           FontWeight="Bold" 
                           Foreground="{StaticResource TextWhiteBrush}"
                           Margin="0,0,0,20"/>
                
                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,20">
                    <Button Content="🔄 Làm mới" 
                            Width="130" Height="45"
                            Style="{StaticResource ModernButton}"
                            Click="RefreshBookings_Click"/>
                </StackPanel>
                
                <Border Grid.Row="2" Background="{StaticResource CardBackgroundBrush}" 
                        CornerRadius="15" Padding="0">
                    <DataGrid x:Name="BookingHistoryDataGrid" 
                              Style="{StaticResource ModernDataGrid}"
                              ColumnHeaderStyle="{StaticResource ModernColumnHeader}"
                              CellStyle="{StaticResource ModernCell}">
                    <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã đặt phòng" Binding="{Binding BookingID}" Width="120"/>
                            <DataGridTextColumn Header="Phòng" Binding="{Binding Room.RoomNumber}" Width="100"/>
                            <DataGridTextColumn Header="Loại phòng" Binding="{Binding Room.RoomType.RoomTypeName}" Width="150"/>
                            <DataGridTextColumn Header="Ngày đặt" Binding="{Binding BookingDate, StringFormat=dd/MM/yyyy}" Width="120"/>
                            <DataGridTextColumn Header="Check-in" Binding="{Binding CheckInDate, StringFormat=dd/MM/yyyy}" Width="120"/>
                            <DataGridTextColumn Header="Check-out" Binding="{Binding CheckOutDate, StringFormat=dd/MM/yyyy}" Width="120"/>
                        <DataGridTextColumn Header="Tổng tiền" Binding="{Binding TotalAmount, StringFormat=N0}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Window>
